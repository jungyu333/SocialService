{"version":3,"file":"../pages/profile.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AAAwC;AACd;AACkB;AAE5C,MAAMG,eAAe,GAAGD,uEAAM,CAAC;AAO/B,MAAMG;AAaN,MAAMC,IAAI,GAAGJ,EAAE,CAACE;AAKhB,SAASG;IACP,MAAMI;;QAEJA,MAAM,CAACE,uEAAKH;KACb;IAED;;YAEqBI;;;;kBACY;;;;;UAEX;;CAGvB;AAED,eAAeP,UAAU,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7C1B;AAA6B;AACY;AACI;AACD;AAKjB;AAE0B;AACX;AAIT;AACO;AACE;AAGO;AACvB;AACO;AAEjC,MAAMqB,cAAc,GAAG1B,uEAAM,CAAC;AAY9B,MAAM2B;AAON,MAAMC;AAQN,MAAMC,MAAM;AAOZ,MAAME;AAIN,MAAMC;AAKN,MAAMC;AAMN,MAAMC;AASN,MAAME;AAWN,MAAMC,OAAO;;IAE8B,CACxC;IACD;IACA,MAAMK;IACN,MAAMC;;;IAIN,MAAMC,IAAAA,uEAAAA,CAAW;QACfnC,MAAM,CAACE;KACR;IAEDG;;YAEIL;;KAEH,EAAE;QAAC6B,EAAE;KAAC,CAAC,CAAC;IAET;;;;;;wFAG8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;+GAkBTC;;;;;qGAGI;;;0BAEE;;;;;;;;;;;sIAGmD;;4FAElE;oCAAYhC,IAAI;;4FACR;wCAAW8C,KAAK,EAAE;;;;iJAAwC;kCACrD;;oCACD9C,EAAAA,kDAAK;oCAAMC,IAAI,EAAE,CAAC,gEAAc,CAAC;;wCAC7B6C,KAAK,EAAE;4CAAEC,KAAK,EAAE,OAAO;4CAAEC,QAAQ,EAAE,oDAAM;yCAAE;sCAAI;kCAClD;;0BACM;;kBACpB,GACD,IAAI;cACD;;MACR,CACH;CACH;AAED,OAAO,MAAMC,kBAAkB,GAC7BjC,OAAO,CAACiC,kBAAkB,CAAC,CAACC,IAAAA,kDAAU,OAAOC;QAC3C,MAAMC,MAAM,GAAGD,OAAO,CAACE,GAAG,GAAGF,OAAO,CAACE,GAAG,CAACC,OAAO,CAACF,MAAM,GAAG,EAAE;QAC5DnC,KAAK,CAACsC,QAAQ,CAACD,OAAO,CAACE,MAAM,CAACC,MAAM,GAAG,EAAE,CAAC;QAC1C,IAAIN,OAAO,CAACE,GAAG,IAAID,MAAM,EAAE;YACzBnC,KAAK,CAACsC,QAAQ,CAACD,OAAO,CAACE,MAAM,CAACC,MAAM;SACrC;QAEDP,KAAK,CAACf,QAAQ,CAACrB;QACfoC,KAAK,CAACf,QAAQ,CAACjB,GAAG,CAAC,CAAC;QACpB,MAAMgC,KAAK,CAACQ,QAAQ,CAACC;QACrB,OAAO;YACLC,KAAK,EAAE,EAAE;SACV,CAAC;KACH;AAAA,CAAC,CAAC;AAEL,eAAe9B,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9KvB;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA","sources":["webpack://react-social-app/./components/CircleItem.tsx","webpack://react-social-app/./pages/profile/index.tsx","webpack://react-social-app/external commonjs \"@ant-design/icons\"","webpack://react-social-app/external commonjs \"axios\"","webpack://react-social-app/external commonjs \"next-redux-wrapper\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/head-manager-context.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/i18n/normalize-locale-path.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/is-plain-object.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/mitt.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/page-path/denormalize-page-path.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router-context.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/format-url.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/get-middleware-regex.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/is-dynamic.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/parse-relative-url.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/querystring.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/resolve-rewrites.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/route-matcher.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/route-regex.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/utils.js\"","webpack://react-social-app/external commonjs \"next/head\"","webpack://react-social-app/external commonjs \"next/router\"","webpack://react-social-app/external commonjs \"react\"","webpack://react-social-app/external commonjs \"react-redux\"","webpack://react-social-app/external commonjs \"react/jsx-runtime\"","webpack://react-social-app/external commonjs \"redux\"","webpack://react-social-app/external commonjs \"redux-devtools-extension\"","webpack://react-social-app/external commonjs \"redux-saga\"","webpack://react-social-app/external commonjs \"redux-saga/effects\"","webpack://react-social-app/external commonjs \"tailwind-styled-components\"","webpack://react-social-app/external module \"immer\"","webpack://react-social-app/external module \"react-hook-form\""],"sourcesContent":["import { useRouter } from \"next/router\";\r\nimport React from \"react\";\r\nimport tw from \"tailwind-styled-components\";\r\n\r\nconst CircleContainer = tw.div`\r\n  flex-col\r\n  justify-center\r\n  items-center\r\n  space-y-2\r\n`;\r\n\r\nconst Circle = tw.div`\r\n  bg-indigo-500\r\n  flex\r\n  rounded-full\r\n  justify-center\r\n  items-center\r\n  h-20\r\n  w-20\r\n  hover:bg-indigo-700\r\n  cursor-pointer\r\n  \r\n`;\r\n\r\nconst Text = tw.div`\r\n  text-gray-500\r\n  \r\n`;\r\n\r\nfunction CircleItem({ children, text, link }) {\r\n  const router = useRouter();\r\n  const onClickLink = () => {\r\n    router.push(link);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CircleContainer onClick={onClickLink}>\r\n        <Circle>{children}</Circle>\r\n        <Text>{text}</Text>\r\n      </CircleContainer>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CircleItem;\r\n","import Head from \"next/head\";\r\nimport React, { useEffect } from \"react\";\r\nimport Layout from \"../../components/Layout\";\r\nimport tw from \"tailwind-styled-components\";\r\nimport {\r\n  StarOutlined,\r\n  TwitterOutlined,\r\n  UserAddOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nimport CircleItem from \"../../components/CircleItem\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  logOutRequestAction,\r\n  myInfoLoadRequestAction,\r\n} from \"../../action/userAction\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../reducers\";\r\nimport { GetServerSideProps } from \"next\";\r\nimport wrapper from \"../../store/configureStore\";\r\nimport axios from \"axios\";\r\nimport { END } from \"redux-saga\";\r\n\r\nconst ProfileWrapper = tw.div`\r\n  max-w-sm\r\n  mx-auto\r\n  bg-gray-100\r\n  mt-24\r\n  h-36\r\n  shadow-md\r\n  flex\r\n  items-center\r\n  sm:max-w-lg\r\n`;\r\n\r\nconst ProfileContainer = tw.div`\r\n  flex\r\n  space-x-5\r\n  items-center\r\n  px-4\r\n`;\r\n\r\nconst Image = tw.div`\r\n  bg-slate-700\r\n  rounded-full\r\n  w-20\r\n  h-20\r\n  shadow-sm\r\n`;\r\n\r\nconst Avatar = tw.img`\r\n  rounded-full\r\n  w-20\r\n  h-20\r\n  shadow-sm\r\n`;\r\n\r\nconst UserInfo = tw.div`\r\n  space-y-2\r\n`;\r\n\r\nconst UserName = tw.div`\r\n  text-2xl\r\n  font-bold\r\n`;\r\n\r\nconst ButtonContainer = tw.div`\r\n  flex\r\n  text-sm\r\n  space-x-3\r\n`;\r\n\r\nconst Button = tw.button`\r\n  border\r\n  rounded-md\r\n  p-2\r\n  bg-indigo-400\r\n  hover:bg-indigo-600\r\n  text-white\r\n`;\r\n\r\nconst CommunicateWrapper = tw.div`\r\n  max-w-sm\r\n  mx-auto\r\n  h-48\r\n  flex\r\n  justify-between\r\n  items-center\r\n  text-center\r\n  sm:max-w-lg\r\n`;\r\n\r\nconst Profile = () => {\r\n  const { me, logOutLoading } = useSelector(\r\n    (state: RootState) => state.userReducer\r\n  );\r\n  const router = useRouter();\r\n  const dispatch = useDispatch();\r\n  const onClickLogOut = () => {\r\n    dispatch(logOutRequestAction());\r\n  };\r\n\r\n  const onClickEdit = () => {\r\n    router.push(\"/profile/editinfo\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!me) {\r\n      router.replace(\"/\");\r\n    }\r\n  }, [me]);\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <meta charSet=\"UTF-8\" />\r\n        <title>마이페이지 | Social Service</title>\r\n      </Head>\r\n      <Layout>\r\n        {me ? (\r\n          <>\r\n            <ProfileWrapper>\r\n              <ProfileContainer>\r\n                {me?.avatar !== \"null\" ? (\r\n                  <Avatar src={`http://localhost:4000/${me?.avatar}`} />\r\n                ) : (\r\n                  <Image />\r\n                )}\r\n                <UserInfo>\r\n                  <UserName>{me?.nickname}</UserName>\r\n                  <ButtonContainer>\r\n                    <Button onClick={onClickEdit}>Edit Profile</Button>\r\n                    <Button onClick={onClickLogOut}>\r\n                      {logOutLoading ? \"Loading...\" : \"로그아웃\"}\r\n                    </Button>\r\n                  </ButtonContainer>\r\n                </UserInfo>\r\n              </ProfileContainer>\r\n            </ProfileWrapper>\r\n            <CommunicateWrapper>\r\n              <CircleItem text=\"내 게시물\" link={`/user/${me?.id}`}>\r\n                <TwitterOutlined style={{ color: \"white\", fontSize: \"24px\" }} />\r\n              </CircleItem>\r\n              <CircleItem text=\"팔로잉\" link={`/user/following`}>\r\n                <UserAddOutlined style={{ color: \"white\", fontSize: \"24px\" }} />\r\n              </CircleItem>\r\n              <CircleItem text=\"팔로워\" link={`/user/follower`}>\r\n                <StarOutlined style={{ color: \"white\", fontSize: \"24px\" }} />\r\n              </CircleItem>\r\n            </CommunicateWrapper>\r\n          </>\r\n        ) : null}\r\n      </Layout>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const getServerSideProps: GetServerSideProps =\r\n  wrapper.getServerSideProps((store) => async (context) => {\r\n    const cookie = context.req ? context.req.headers.cookie : \"\";\r\n    axios.defaults.headers.common.Cookie = \"\";\r\n    if (context.req && cookie) {\r\n      axios.defaults.headers.common.Cookie = cookie;\r\n    }\r\n\r\n    store.dispatch(myInfoLoadRequestAction());\r\n    store.dispatch(END);\r\n    await store.sagaTask.toPromise();\r\n    return {\r\n      props: {},\r\n    };\r\n  });\r\n\r\nexport default Profile;\r\n","module.exports = require(\"@ant-design/icons\");","module.exports = require(\"axios\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next/dist/shared/lib/head-manager-context.js\");","module.exports = require(\"next/dist/shared/lib/i18n/normalize-locale-path.js\");","module.exports = require(\"next/dist/shared/lib/is-plain-object.js\");","module.exports = require(\"next/dist/shared/lib/mitt.js\");","module.exports = require(\"next/dist/shared/lib/page-path/denormalize-page-path.js\");","module.exports = require(\"next/dist/shared/lib/router-context.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/format-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-middleware-regex.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-dynamic.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-relative-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/querystring.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/resolve-rewrites.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-matcher.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-regex.js\");","module.exports = require(\"next/dist/shared/lib/utils.js\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"redux\");","module.exports = require(\"redux-devtools-extension\");","module.exports = require(\"redux-saga\");","module.exports = require(\"redux-saga/effects\");","module.exports = require(\"tailwind-styled-components\");","module.exports = import(\"immer\");;","module.exports = import(\"react-hook-form\");;"],"names":["useRouter","React","tw","CircleContainer","div","Circle","Text","CircleItem","children","text","link","router","onClickLink","push","onClick","Head","useEffect","Layout","StarOutlined","TwitterOutlined","UserAddOutlined","useDispatch","logOutRequestAction","myInfoLoadRequestAction","useSelector","wrapper","axios","END","ProfileWrapper","ProfileContainer","Image","Avatar","img","UserInfo","UserName","ButtonContainer","Button","button","CommunicateWrapper","Profile","me","logOutLoading","state","userReducer","dispatch","onClickLogOut","onClickEdit","replace","meta","charSet","title","avatar","src","nickname","id","style","color","fontSize","getServerSideProps","store","context","cookie","req","headers","defaults","common","Cookie","sagaTask","toPromise","props"],"sourceRoot":""}