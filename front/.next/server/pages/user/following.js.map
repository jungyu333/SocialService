{"version":3,"file":"../pages/user/following.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAA0B;AAEc;AACC;AACR;AAIA;AACY;AACI;AACL;AACS;AACX;AACb;AACa;AAEc;AAExD,MAAMe,OAAO,GAAGN,uEAAM,CAAC;AAUvB,SAASQ;IACP,MAAMC;IACN,MAAMC;IACN,MAAM;IAC+C,CAAC;IACtD;IAEAhB;;YAEIgB,MAAM,CAACS;SACR;KACF,EAAE,EAAE,CAAC,CAAC;IAEPzB,SAAS,CAAC,IAAM;;YAEZ,MAAM0B,MAAM,GAAGT,GAAAA,uEAAAA,CAAa,CAACA;oDAC7BF;SACD;KACF,EAAE;QAACS;QAAQL;oDAAeC;QAAsBH,aAAa;KAAC,CAAC,CAAC;IACjE,wGACE;;;;;wBAEUa;;;wIACC;;;cACF;0BACP,KAAC1B,GAAAA,kDAAM;0BACL;;wBACGa,UAAAA,kDAAce,GAAG,CAAC,CAAClB;gCAGhBc,EAAE,EAAEd,UAAS,CAACc,EAAE;;;;6EADXd,mEAAAA;wBAMR,CAAC;;4BAEAsB,SAAS,EAAC,MAAM;4BAChBb,GAAG,EAAEJ,aAAa,IAAI;0BACtB;;kBACM;cACH;;MACR,CACH;CACH;AAED,OAAO,MAAMmB,kBAAkB,GAC7BjC,OAAO,CAACiC,kBAAkB,CAAC,CAACC,KAAK,GAAK,OAAOC,OAAO,GAAK;QACvD,MAAMC,MAAM,GAAGD;QACf3C,KAAK,CAAC+C;QACN,IAAIJ;YACF3C;SACD;;;CAID0C,KAAK,CAACxB,QAAQ,CAACd,GAAG,CAAC,CAAC;QACpB,MAAMsC,KAAK,CAACQ,QAAQ,CAACC,SAAS,EAAE,CAAC;QAEjC,6EAAO;YACLC,KAAK,EAAE,EAAE;SACV,CAAC;KACH;AAAA,CAAC,CAAC;AAEL,eAAenC,QAAAA,uFAAU;;;;;;;;;;;;;;;;;;AC7FzB;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA","sources":["webpack://react-social-app/./pages/user/following.tsx","webpack://react-social-app/external commonjs \"@ant-design/icons\"","webpack://react-social-app/external commonjs \"axios\"","webpack://react-social-app/external commonjs \"next-redux-wrapper\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/head-manager-context.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/i18n/normalize-locale-path.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/is-plain-object.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/mitt.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/page-path/denormalize-page-path.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router-context.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/format-url.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/get-middleware-regex.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/is-dynamic.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/parse-relative-url.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/querystring.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/resolve-rewrites.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/route-matcher.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/route-regex.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/utils.js\"","webpack://react-social-app/external commonjs \"next/head\"","webpack://react-social-app/external commonjs \"next/router\"","webpack://react-social-app/external commonjs \"react\"","webpack://react-social-app/external commonjs \"react-redux\"","webpack://react-social-app/external commonjs \"react/jsx-runtime\"","webpack://react-social-app/external commonjs \"redux\"","webpack://react-social-app/external commonjs \"redux-devtools-extension\"","webpack://react-social-app/external commonjs \"redux-saga\"","webpack://react-social-app/external commonjs \"redux-saga/effects\"","webpack://react-social-app/external commonjs \"tailwind-styled-components\"","webpack://react-social-app/external module \"immer\"","webpack://react-social-app/external module \"react-hook-form\"","webpack://react-social-app/external module \"react-intersection-observer\""],"sourcesContent":["import axios from \"axios\";\r\nimport { GetServerSideProps } from \"next\";\r\nimport { useRouter } from \"next/router\";\r\nimport React, { useEffect } from \"react\";\r\nimport { END } from \"redux-saga\";\r\nimport {\r\n  followingLoadRequestAcion,\r\n  myInfoLoadRequestAction,\r\n} from \"../../action/userAction\";\r\nimport Layout from \"../../components/Layout\";\r\nimport wrapper from \"../../store/configureStore\";\r\nimport tw from \"tailwind-styled-components\";\r\nimport FollowCard from \"../../components/FollowCard\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Head from \"next/head\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../reducers\";\r\nimport { useInView } from \"react-intersection-observer\";\r\n\r\nconst Wrapper = tw.div`\r\n  max-w-sm\r\n  mx-auto\r\n  sm:max-w-md\r\n  flex-col\r\n  justify-center\r\n  mt-4\r\n  mb-2\r\n`;\r\n\r\nfunction following() {\r\n  const dispatch = useDispatch();\r\n  const router = useRouter();\r\n  const { FollowersList, me, hasMoreFollow, followingLoadLoading } =\r\n    useSelector((state: RootState) => state.userReducer);\r\n  const { ref, inView } = useInView();\r\n\r\n  useEffect(() => {\r\n    if (!me) {\r\n      router.replace(\"/\");\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (inView && hasMoreFollow && !followingLoadLoading) {\r\n      const lastId = FollowersList[FollowersList.length - 1]?.id;\r\n      dispatch(followingLoadRequestAcion(lastId));\r\n    }\r\n  }, [inView, hasMoreFollow, followingLoadLoading, FollowersList]);\r\n  return (\r\n    <>\r\n      <Head>\r\n        <meta charSet=\"UTF-8\" />\r\n        <title>팔로잉 | Social Service</title>\r\n      </Head>\r\n      <Layout>\r\n        <Wrapper>\r\n          {FollowersList.map((following) => (\r\n            <FollowCard\r\n              key={following.id}\r\n              id={following.id}\r\n              nickname={following.nickname}\r\n              avatar={following.avatar}\r\n              isFollowing={true}\r\n            />\r\n          ))}\r\n          <div\r\n            className=\"h-10\"\r\n            ref={hasMoreFollow && !followingLoadLoading ? ref : undefined}\r\n          />\r\n        </Wrapper>\r\n      </Layout>\r\n    </>\r\n  );\r\n}\r\n\r\nexport const getServerSideProps: GetServerSideProps =\r\n  wrapper.getServerSideProps((store) => async (context) => {\r\n    const cookie = context.req ? context.req.headers.cookie : \"\";\r\n    axios.defaults.headers.common.Cookie = \"\";\r\n    if (context.req && cookie) {\r\n      axios.defaults.headers.common.Cookie = cookie;\r\n    }\r\n\r\n    store.dispatch(myInfoLoadRequestAction());\r\n    store.dispatch(followingLoadRequestAcion(0));\r\n    store.dispatch(END);\r\n    await store.sagaTask.toPromise();\r\n\r\n    return {\r\n      props: {},\r\n    };\r\n  });\r\n\r\nexport default following;\r\n","module.exports = require(\"@ant-design/icons\");","module.exports = require(\"axios\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next/dist/shared/lib/head-manager-context.js\");","module.exports = require(\"next/dist/shared/lib/i18n/normalize-locale-path.js\");","module.exports = require(\"next/dist/shared/lib/is-plain-object.js\");","module.exports = require(\"next/dist/shared/lib/mitt.js\");","module.exports = require(\"next/dist/shared/lib/page-path/denormalize-page-path.js\");","module.exports = require(\"next/dist/shared/lib/router-context.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/format-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-middleware-regex.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-dynamic.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-relative-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/querystring.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/resolve-rewrites.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-matcher.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-regex.js\");","module.exports = require(\"next/dist/shared/lib/utils.js\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"redux\");","module.exports = require(\"redux-devtools-extension\");","module.exports = require(\"redux-saga\");","module.exports = require(\"redux-saga/effects\");","module.exports = require(\"tailwind-styled-components\");","module.exports = import(\"immer\");;","module.exports = import(\"react-hook-form\");;","module.exports = import(\"react-intersection-observer\");;"],"names":["axios","useRouter","React","useEffect","END","followingLoadRequestAcion","myInfoLoadRequestAction","Layout","wrapper","tw","FollowCard","useDispatch","Head","useSelector","useInView","Wrapper","div","following","dispatch","router","FollowersList","me","hasMoreFollow","followingLoadLoading","state","userReducer","ref","inView","replace","lastId","length","id","meta","charSet","title","map","nickname","avatar","isFollowing","className","undefined","getServerSideProps","store","context","cookie","req","headers","defaults","common","Cookie","sagaTask","toPromise","props"],"sourceRoot":""}