{"version":3,"file":"../pages/user/follower.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAA0B;AAEe;AACe;AACd;AACA;AACT;AAIA;AACY;AAEI;AACL;AACf;AACwB;AAErD,MAAMc,OAAO,GAAGH,uEAAM,CAAC;AAUvB,SAASK;IACP,MAAM;IACN,MAAMG;IACN,MAAM;IACmC,CACxC;IACDjB;;;YAGIiB,QAAQ,CAACZ;SACV;KACF,EAAE;QAACW,MAAM;;oDAAiBG;QAAsBC,aAAa;KAAC,CAAC,CAAC;IAEjE,yGACE;;;;;wBAEUO;;;wIACC;;;cACF;0BACP,KAACpB,GAAAA,kDAAM;0BACL;;wBACGa,UAAAA,kDAAcS,GAAG,CAAC,CAACC;gCACc,GAAGA,SAAS;;;;iJAE9C;4BACEE,SAAS,EAAC,wDAAM;4BAChBjB,GAAG;0BACH;;kBACM;cACH;;MACR,CACH;CACH;AAED,OAAO,MAAMmB,kBAAkB,GAC7B1B,OAAO,CAAC0B,kBAAkB,CAAC,CAACC,KAAK,GAAK,OAAOC,OAAO,GAAK;QACvD,MAAMC,MAAM,GAAGD;QACftC,KAAK,CAAC0C;QACN,IAAIJ;YACFtC;SACD;;;CAIDqC,KAAK,CAAClB,QAAQ,CAACb,GAAG,CAAC,CAAC;QACpB,MAAM+B,KAAK,CAACQ,QAAQ,CAACC,SAAS,EAAE,CAAC;QAEjC,6EAAO;YACLC,KAAK,EAAE,EAAE;SACV,CAAC;KACH;AAAA,CAAC,CAAC;AAEL,eAAe/B,QAAQ,wFAAC;;;;;;;;;;;;;;;;;;AChFxB;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA","sources":["webpack://react-social-app/./pages/user/follower.tsx","webpack://react-social-app/external commonjs \"@ant-design/icons\"","webpack://react-social-app/external commonjs \"axios\"","webpack://react-social-app/external commonjs \"next-redux-wrapper\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/head-manager-context.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/i18n/normalize-locale-path.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/is-plain-object.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/mitt.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/page-path/denormalize-page-path.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router-context.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/format-url.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/get-middleware-regex.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/is-dynamic.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/parse-relative-url.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/querystring.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/resolve-rewrites.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/route-matcher.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/router/utils/route-regex.js\"","webpack://react-social-app/external commonjs \"next/dist/shared/lib/utils.js\"","webpack://react-social-app/external commonjs \"next/head\"","webpack://react-social-app/external commonjs \"next/router\"","webpack://react-social-app/external commonjs \"react\"","webpack://react-social-app/external commonjs \"react-redux\"","webpack://react-social-app/external commonjs \"react/jsx-runtime\"","webpack://react-social-app/external commonjs \"redux\"","webpack://react-social-app/external commonjs \"redux-devtools-extension\"","webpack://react-social-app/external commonjs \"redux-saga\"","webpack://react-social-app/external commonjs \"redux-saga/effects\"","webpack://react-social-app/external commonjs \"tailwind-styled-components\"","webpack://react-social-app/external module \"immer\"","webpack://react-social-app/external module \"react-hook-form\"","webpack://react-social-app/external module \"react-intersection-observer\""],"sourcesContent":["import axios from \"axios\";\r\nimport { GetServerSideProps } from \"next\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useInView } from \"react-intersection-observer\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { END } from \"redux-saga\";\r\nimport {\r\n  followerLoadRequestAction,\r\n  myInfoLoadRequestAction,\r\n} from \"../../action/userAction\";\r\nimport Layout from \"../../components/Layout\";\r\nimport { RootState } from \"../../reducers\";\r\nimport wrapper from \"../../store/configureStore\";\r\nimport tw from \"tailwind-styled-components\";\r\nimport Head from \"next/head\";\r\nimport FollowCard from \"../../components/FollowCard\";\r\n\r\nconst Wrapper = tw.div`\r\n  max-w-sm\r\n  mx-auto\r\n  sm:max-w-md\r\n  flex-col\r\n  justify-center\r\n  mt-4\r\n  mb-2\r\n`;\r\n\r\nfunction follower() {\r\n  const { ref, inView } = useInView();\r\n  const dispatch = useDispatch();\r\n  const { hasMoreFollow, followingLoadLoading, FollowersList } = useSelector(\r\n    (state: RootState) => state.userReducer\r\n  );\r\n  useEffect(() => {\r\n    if (inView && hasMoreFollow && !followingLoadLoading) {\r\n      const lastId = FollowersList[FollowersList.length - 1]?.id;\r\n      dispatch(followerLoadRequestAction(lastId));\r\n    }\r\n  }, [inView, hasMoreFollow, followingLoadLoading, FollowersList]);\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <meta charSet=\"UTF-8\" />\r\n        <title>팔로워 | Social Service</title>\r\n      </Head>\r\n      <Layout>\r\n        <Wrapper>\r\n          {FollowersList.map((following) => (\r\n            <FollowCard key={following.id} {...following} isFollowing={false} />\r\n          ))}\r\n          <div\r\n            className=\"h-10\"\r\n            ref={hasMoreFollow && !followingLoadLoading ? ref : undefined}\r\n          />\r\n        </Wrapper>\r\n      </Layout>\r\n    </>\r\n  );\r\n}\r\n\r\nexport const getServerSideProps: GetServerSideProps =\r\n  wrapper.getServerSideProps((store) => async (context) => {\r\n    const cookie = context.req ? context.req.headers.cookie : \"\";\r\n    axios.defaults.headers.common.Cookie = \"\";\r\n    if (context.req && cookie) {\r\n      axios.defaults.headers.common.Cookie = cookie;\r\n    }\r\n\r\n    store.dispatch(myInfoLoadRequestAction());\r\n    store.dispatch(followerLoadRequestAction(0));\r\n    store.dispatch(END);\r\n    await store.sagaTask.toPromise();\r\n\r\n    return {\r\n      props: {},\r\n    };\r\n  });\r\n\r\nexport default follower;\r\n","module.exports = require(\"@ant-design/icons\");","module.exports = require(\"axios\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next/dist/shared/lib/head-manager-context.js\");","module.exports = require(\"next/dist/shared/lib/i18n/normalize-locale-path.js\");","module.exports = require(\"next/dist/shared/lib/is-plain-object.js\");","module.exports = require(\"next/dist/shared/lib/mitt.js\");","module.exports = require(\"next/dist/shared/lib/page-path/denormalize-page-path.js\");","module.exports = require(\"next/dist/shared/lib/router-context.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/format-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-middleware-regex.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-dynamic.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-relative-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/querystring.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/resolve-rewrites.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-matcher.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-regex.js\");","module.exports = require(\"next/dist/shared/lib/utils.js\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"redux\");","module.exports = require(\"redux-devtools-extension\");","module.exports = require(\"redux-saga\");","module.exports = require(\"redux-saga/effects\");","module.exports = require(\"tailwind-styled-components\");","module.exports = import(\"immer\");;","module.exports = import(\"react-hook-form\");;","module.exports = import(\"react-intersection-observer\");;"],"names":["axios","React","useEffect","useInView","useDispatch","useSelector","END","followerLoadRequestAction","myInfoLoadRequestAction","Layout","wrapper","tw","Head","FollowCard","Wrapper","div","follower","ref","inView","dispatch","hasMoreFollow","followingLoadLoading","FollowersList","state","userReducer","lastId","length","id","meta","charSet","title","map","following","isFollowing","className","undefined","getServerSideProps","store","context","cookie","req","headers","defaults","common","Cookie","sagaTask","toPromise","props"],"sourceRoot":""}