{"version":3,"file":"static/chunks/pages/user/[id]-5c8094d4a2adfa71.js","mappings":"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","sources":["webpack://_N_E/./node_modules/@ant-design/icons-svg/es/asn/UserAddOutlined.js","webpack://_N_E/./node_modules/@ant-design/icons/es/icons/UserAddOutlined.js","webpack://_N_E/?d0b6","webpack://_N_E/./components/MyProfile.tsx","webpack://_N_E/./components/UserProfile.tsx","webpack://_N_E/./pages/user/[id].tsx","webpack://_N_E/./node_modules/next/head.js"],"sourcesContent":["// This icon file is generated automatically.\nvar UserAddOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"user-add\", \"theme\": \"outlined\" };\nexport default UserAddOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport UserAddOutlinedSvg from \"@ant-design/icons-svg/es/asn/UserAddOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar UserAddOutlined = function UserAddOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: UserAddOutlinedSvg\n  }));\n};\n\nUserAddOutlined.displayName = 'UserAddOutlined';\nexport default /*#__PURE__*/React.forwardRef(UserAddOutlined);","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/user/[id]\",\n      function () {\n        return require(\"private-next-pages/user/[id].tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/user/[id]\"])\n      });\n    }\n  ","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport tw from \"tailwind-styled-components\";\r\nimport { RootState } from \"../reducers\";\r\n\r\nconst Wrapper = tw.div`\r\n  hidden\r\n  absolute\r\n  xl:flex \r\n  top-10\r\n  left-10\r\n`;\r\n\r\nconst ProfileWrapper = tw.div`\r\n  w-96\r\n  bg-gray-100\r\n  h-48\r\n  shadow-md\r\n  flex-col\r\n  items-center\r\n  space-y-5\r\n`;\r\n\r\nconst ProfileContainer = tw.div`\r\n  flex\r\n  space-x-5\r\n  items-center\r\n  justify-start\r\n  px-4\r\n  mt-8\r\n`;\r\n\r\nconst Avatar = tw.img`\r\n  w-20\r\n  h-20\r\n  rounded-full\r\n  shadow-sm\r\n`;\r\n\r\nconst Image = tw.div`\r\n  bg-slate-700\r\n  rounded-full\r\n  w-20\r\n  h-20\r\n  shadow-sm\r\n`;\r\n\r\nconst UserInfo = tw.div`\r\n  space-y-2\r\n`;\r\n\r\nconst UserName = tw.div`\r\n  text-2xl\r\n  font-bold\r\n`;\r\n\r\nconst InfoContainer = tw.div`\r\n  flex\r\n  justify-center\r\n`;\r\n\r\nconst InfoBox = tw.div`\r\n  w-full\r\n  flex-col\r\n  justify-between\r\n  items-center\r\n  text-center\r\n`;\r\n\r\nfunction MyProfile() {\r\n  const { me } = useSelector((state: RootState) => state.userReducer);\r\n  return (\r\n    <>\r\n      <Wrapper>\r\n        {me ? (\r\n          <>\r\n            <ProfileWrapper>\r\n              <ProfileContainer>\r\n                {me?.avatar === \"null\" ? (\r\n                  <Image />\r\n                ) : (\r\n                  <Avatar src={`http://localhost:4000/${me?.avatar}`} />\r\n                )}\r\n                <UserInfo>\r\n                  <UserName>{me?.nickname}</UserName>\r\n                </UserInfo>\r\n              </ProfileContainer>\r\n              <InfoContainer>\r\n                <InfoBox>\r\n                  <div>게시물</div>\r\n                  {me?.Posts?.length}\r\n                </InfoBox>\r\n                <InfoBox>\r\n                  <div>팔로잉</div>\r\n                  {me?.Followings?.length}\r\n                </InfoBox>\r\n                <InfoBox>\r\n                  <div>팔로워</div>\r\n                  {me?.Followers?.length}\r\n                </InfoBox>\r\n              </InfoContainer>\r\n            </ProfileWrapper>\r\n          </>\r\n        ) : null}\r\n      </Wrapper>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MyProfile;\r\n","import { UserAddOutlined } from \"@ant-design/icons\";\r\nimport React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport tw from \"tailwind-styled-components\";\r\nimport {\r\n  userFollowRequestAction,\r\n  userUnFollowRequestAction,\r\n} from \"../action/userAction\";\r\nimport { RootState } from \"../reducers\";\r\n\r\nconst Wrapper = tw.div`\r\n  hidden\r\n  absolute\r\n  xl:flex \r\n  top-10\r\n  left-10\r\n  \r\n`;\r\n\r\nconst ProfileWrapper = tw.div`\r\n  w-96\r\n  bg-gray-100\r\n  h-48\r\n  shadow-md\r\n  flex-col\r\n  items-center\r\n  space-y-5\r\n`;\r\n\r\nconst ProfileContainer = tw.div`\r\n  flex\r\n  space-x-5\r\n  items-center\r\n  justify-start\r\n  px-4\r\n  mt-8\r\n`;\r\n\r\nconst Avatar = tw.img`\r\n  w-20\r\n  h-20\r\n  rounded-full\r\n  shadow-sm\r\n`;\r\n\r\nconst Image = tw.div`\r\n  bg-slate-700\r\n  rounded-full\r\n  w-20\r\n  h-20\r\n  shadow-sm\r\n`;\r\n\r\nconst UserInfo = tw.div`\r\n  flex\r\n  items-center\r\n  w-64\r\n  justify-between\r\n`;\r\n\r\nconst Follow = tw.button`\r\n  text-sm\r\n  text-gray-500\r\n  hover:text-indigo-700\r\n  flex \r\n  justify-end\r\n  items-center\r\n  w-2/4\r\n  \r\n`;\r\n\r\nconst UserName = tw.div`\r\n  text-2xl\r\n  font-bold\r\n`;\r\n\r\nconst InfoContainer = tw.div`\r\n  flex\r\n  justify-center\r\n`;\r\n\r\nconst InfoBox = tw.div`\r\n  w-full\r\n  flex-col\r\n  justify-between\r\n  items-center\r\n  text-center\r\n`;\r\n\r\nfunction UserProfile() {\r\n  const { userInfo, me } = useSelector((state: RootState) => state.userReducer);\r\n  const dispatch = useDispatch();\r\n  const isFollowed = me?.Followings.find((user) => user?.id === userInfo?.id);\r\n  const onClickFollow = () => {\r\n    dispatch(userFollowRequestAction(userInfo.id));\r\n  };\r\n\r\n  const onClickUnFollow = () => {\r\n    dispatch(userUnFollowRequestAction(userInfo.id));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Wrapper>\r\n        {userInfo ? (\r\n          <>\r\n            <ProfileWrapper>\r\n              <ProfileContainer>\r\n                {userInfo?.avatar === \"null\" ? (\r\n                  <Image />\r\n                ) : (\r\n                  <Avatar src={`http://localhost:4000/${userInfo?.avatar}`} />\r\n                )}\r\n                <UserInfo>\r\n                  <UserName>{userInfo?.nickname}</UserName>\r\n                  {me ? (\r\n                    <>\r\n                      {!isFollowed ? (\r\n                        <>\r\n                          <Follow onClick={onClickFollow}>\r\n                            <UserAddOutlined />\r\n                            Follow\r\n                          </Follow>\r\n                        </>\r\n                      ) : (\r\n                        <Follow onClick={onClickUnFollow}>\r\n                          <UserAddOutlined />\r\n                          UnFollow\r\n                        </Follow>\r\n                      )}\r\n                    </>\r\n                  ) : null}\r\n                </UserInfo>\r\n              </ProfileContainer>\r\n              <InfoContainer>\r\n                <InfoBox>\r\n                  <div>게시물</div>\r\n                  {userInfo?.Posts?.length}\r\n                </InfoBox>\r\n                <InfoBox>\r\n                  <div>팔로잉</div>\r\n                  {userInfo?.Followings?.length}\r\n                </InfoBox>\r\n                <InfoBox>\r\n                  <div>팔로워</div>\r\n                  {userInfo?.Followers?.length}\r\n                </InfoBox>\r\n              </InfoContainer>\r\n            </ProfileWrapper>\r\n          </>\r\n        ) : null}\r\n      </Wrapper>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UserProfile;\r\n","import axios from \"axios\";\r\nimport { GetServerSideProps } from \"next\";\r\nimport Head from \"next/head\";\r\nimport { useRouter } from \"next/router\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useInView } from \"react-intersection-observer\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { END } from \"redux-saga\";\r\n\r\nimport { userPostLoadRequestAcion } from \"../../action/postActions\";\r\nimport {\r\n  myInfoLoadRequestAction,\r\n  userLoadRequestAction,\r\n} from \"../../action/userAction\";\r\nimport Layout from \"../../components/Layout\";\r\nimport MyProfile from \"../../components/MyProfile\";\r\nimport PostCard from \"../../components/PostCard\";\r\nimport UserProfile from \"../../components/UserProfile\";\r\nimport { RootState } from \"../../reducers\";\r\nimport wrapper from \"../../store/configureStore\";\r\n\r\nfunction User() {\r\n  const [ref, inView] = useInView();\r\n  const { me, userInfo } = useSelector((state: RootState) => state.userReducer);\r\n  const { mainPosts, hasMorePosts, postLoadLoading } = useSelector(\r\n    (state: RootState) => state.postReducer\r\n  );\r\n  const router = useRouter();\r\n  const { id } = router.query;\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (inView && hasMorePosts && !postLoadLoading) {\r\n      const lastId = mainPosts[mainPosts.length - 1]?.id;\r\n      dispatch(userPostLoadRequestAcion({ lastId: lastId, userId: id }));\r\n    }\r\n  }, [inView, mainPosts, hasMorePosts, postLoadLoading, id]);\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <meta charSet=\"UTF-8\" />\r\n        <title>피드 | Social Service</title>\r\n      </Head>\r\n      <Layout>\r\n        <div className=\"relative mt-10\">\r\n          {userInfo && userInfo.id !== me?.id ? <UserProfile /> : <MyProfile />}\r\n          {mainPosts?.map((post) => (\r\n            <PostCard key={post?.id} {...post} />\r\n          ))}\r\n          <div\r\n            className=\"h-3\"\r\n            ref={hasMorePosts && !postLoadLoading ? ref : undefined}\r\n          />\r\n        </div>\r\n      </Layout>\r\n    </>\r\n  );\r\n}\r\n\r\nexport const getServerSideProps: GetServerSideProps =\r\n  wrapper.getServerSideProps((store) => async (context) => {\r\n    const cookie = context.req ? context.req.headers.cookie : \"\";\r\n    axios.defaults.headers.common.Cookie = \"\";\r\n    if (context.req && cookie) {\r\n      axios.defaults.headers.common.Cookie = cookie;\r\n    }\r\n    store.dispatch(userLoadRequestAction(context.params.id));\r\n    store.dispatch(\r\n      userPostLoadRequestAcion({ lastId: 0, userId: context.params.id })\r\n    );\r\n    store.dispatch(myInfoLoadRequestAction());\r\n\r\n    store.dispatch(END);\r\n    await store.sagaTask.toPromise();\r\n    return {\r\n      props: {},\r\n    };\r\n  });\r\n\r\nexport default User;\r\n","module.exports = require('./dist/shared/lib/head')\n"],"names":["props","ref","AntdIcon","icon","displayName","window","__NEXT_P","push","Wrapper","tw","ProfileWrapper","ProfileContainer","Avatar","Image","UserInfo","UserName","InfoContainer","InfoBox","me","useSelector","state","userReducer","avatar","src","nickname","div","Posts","length","Followings","Followers","Follow","userInfo","dispatch","useDispatch","isFollowed","find","user","id","onClick","userUnFollowRequestAction","UserAddOutlined","userFollowRequestAction","useInView","inView","postReducer","mainPosts","hasMorePosts","postLoadLoading","useRouter","query","useEffect","lastId","userPostLoadRequestAcion","userId","Head","meta","charSet","title","Layout","className","UserProfile","MyProfile","map","post","PostCard","undefined","module","exports"],"sourceRoot":""}