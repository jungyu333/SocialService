{"version":3,"file":"static/chunks/pages/user/follower-f7d9a8fd388376cc.js","mappings":"qFACKA,OAAOC,SAAWD,OAAOC,UAAY,IAAIC,KAAK,CAC7C,iBACA,WACE,OAAO,EAAQ,U,+LCJvB,kB,uVAkBA,IAAMC,EAAUC,IAAAA,IAAM,K,SA8DtB,UApDA,WACE,IAAwBC,GAAAA,EAAAA,EAAAA,MAAhBC,EAAgBD,EAAhBC,IAAKC,EAAWF,EAAXE,OACPC,GAAWC,EAAAA,EAAAA,MAC8CC,GAAAA,EAAAA,EAAAA,KAC7D,SAACC,G,OAAqBA,EAAMC,eADtBC,EAAuDH,EAAvDG,cAAeC,EAAwCJ,EAAxCI,qBAAsBC,EAAkBL,EAAlBK,cAU7C,OAPAC,EAAAA,EAAAA,YAAU,WACR,GAAIT,GAAUM,IAAkBC,EAAsB,C,IACrCC,EAATE,EAAgD,QAAvCF,EAAAA,EAAcA,EAAcG,OAAS,UAAE,IAAvCH,OAAAA,EAAAA,EAAyCI,GACxDX,GAASY,EAAAA,EAAAA,IAA0BH,OAEpC,CAACV,EAAQM,EAAeC,EAAsBC,KAG/C,sB,WACE,UAACM,IAAI,C,WACH,SAACC,OAAI,CAACC,QAAQ,WACd,SAACC,QAAK,C,SAAC,4CAET,SAACC,EAAAA,EAAM,C,UACL,UAACtB,EAAO,C,UACLY,EAAcW,KAAI,SAACC,G,OAClB,SAACC,EAAAA,E,uUAAU,IAAwBD,EAAS,CAAEE,aAAa,IAA1CF,EAAUR,QAE7B,SAACW,MAAG,CACFC,UAAU,OACVzB,IAAKO,IAAkBC,EAAuBR,OAAM0B,e","sources":["webpack://_N_E/?92bf","webpack://_N_E/./pages/user/follower.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/user/follower\",\n      function () {\n        return require(\"private-next-pages/user/follower.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/user/follower\"])\n      });\n    }\n  ","import axios from \"axios\";\r\nimport { GetServerSideProps } from \"next\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useInView } from \"react-intersection-observer\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { END } from \"redux-saga\";\r\nimport {\r\n  followerLoadRequestAction,\r\n  myInfoLoadRequestAction,\r\n} from \"../../action/userAction\";\r\nimport Layout from \"../../components/Layout\";\r\nimport { RootState } from \"../../reducers\";\r\nimport wrapper from \"../../store/configureStore\";\r\nimport tw from \"tailwind-styled-components\";\r\nimport Head from \"next/head\";\r\nimport FollowCard from \"../../components/FollowCard\";\r\n\r\nconst Wrapper = tw.div`\r\n  max-w-sm\r\n  mx-auto\r\n  sm:max-w-md\r\n  flex-col\r\n  justify-center\r\n  mt-4\r\n  mb-2\r\n`;\r\n\r\nfunction follower() {\r\n  const { ref, inView } = useInView();\r\n  const dispatch = useDispatch();\r\n  const { hasMoreFollow, followingLoadLoading, FollowersList } = useSelector(\r\n    (state: RootState) => state.userReducer\r\n  );\r\n  useEffect(() => {\r\n    if (inView && hasMoreFollow && !followingLoadLoading) {\r\n      const lastId = FollowersList[FollowersList.length - 1]?.id;\r\n      dispatch(followerLoadRequestAction(lastId));\r\n    }\r\n  }, [inView, hasMoreFollow, followingLoadLoading, FollowersList]);\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <meta charSet=\"UTF-8\" />\r\n        <title>팔로워 | Social Service</title>\r\n      </Head>\r\n      <Layout>\r\n        <Wrapper>\r\n          {FollowersList.map((following) => (\r\n            <FollowCard key={following.id} {...following} isFollowing={false} />\r\n          ))}\r\n          <div\r\n            className=\"h-10\"\r\n            ref={hasMoreFollow && !followingLoadLoading ? ref : undefined}\r\n          />\r\n        </Wrapper>\r\n      </Layout>\r\n    </>\r\n  );\r\n}\r\n\r\nexport const getServerSideProps: GetServerSideProps =\r\n  wrapper.getServerSideProps((store) => async (context) => {\r\n    const cookie = context.req ? context.req.headers.cookie : \"\";\r\n    axios.defaults.headers.common.Cookie = \"\";\r\n    if (context.req && cookie) {\r\n      axios.defaults.headers.common.Cookie = cookie;\r\n    }\r\n\r\n    store.dispatch(myInfoLoadRequestAction());\r\n    store.dispatch(followerLoadRequestAction(0));\r\n    store.dispatch(END);\r\n    await store.sagaTask.toPromise();\r\n\r\n    return {\r\n      props: {},\r\n    };\r\n  });\r\n\r\nexport default follower;\r\n"],"names":["window","__NEXT_P","push","Wrapper","tw","useInView","ref","inView","dispatch","useDispatch","useSelector","state","userReducer","hasMoreFollow","followingLoadLoading","FollowersList","useEffect","lastId","length","id","followerLoadRequestAction","Head","meta","charSet","title","Layout","map","following","FollowCard","isFollowing","div","className","undefined"],"sourceRoot":""}